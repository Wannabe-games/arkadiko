require('dotenv').config();
const CONTRACT_ADDRESS = process.env.CONTRACT_ADDRESS;
const tx = require('@stacks/transactions');
const utils = require('./utils');
const network = utils.resolveNetwork();
const BN = require('bn.js');

async function transact() {
  const list = tx.listCV([
    tx.tupleCV({ 'to': tx.uintCV(2118), 'usda': tx.uintCV(116959384) }),
    tx.tupleCV({ 'to': tx.uintCV(2127), 'usda': tx.uintCV(62141502) }),
    tx.tupleCV({ 'to': tx.uintCV(2130), 'usda': tx.uintCV(3419336) }),
    tx.tupleCV({ 'to': tx.uintCV(2135), 'usda': tx.uintCV(9103257) }),
    tx.tupleCV({ 'to': tx.uintCV(2140), 'usda': tx.uintCV(1994022) }),
    tx.tupleCV({ 'to': tx.uintCV(2142), 'usda': tx.uintCV(6948984) }),
    tx.tupleCV({ 'to': tx.uintCV(2152), 'usda': tx.uintCV(8558719) }),
    tx.tupleCV({ 'to': tx.uintCV(2179), 'usda': tx.uintCV(349651) }),
    tx.tupleCV({ 'to': tx.uintCV(2185), 'usda': tx.uintCV(88903) }),
    tx.tupleCV({ 'to': tx.uintCV(2191), 'usda': tx.uintCV(818926) }),
    tx.tupleCV({ 'to': tx.uintCV(2192), 'usda': tx.uintCV(15846672) }),
    tx.tupleCV({ 'to': tx.uintCV(2205), 'usda': tx.uintCV(683867) }),
    tx.tupleCV({ 'to': tx.uintCV(2216), 'usda': tx.uintCV(4707696) }),
    tx.tupleCV({ 'to': tx.uintCV(2217), 'usda': tx.uintCV(96568) }),
    tx.tupleCV({ 'to': tx.uintCV(2219), 'usda': tx.uintCV(17097) }),
    tx.tupleCV({ 'to': tx.uintCV(2222), 'usda': tx.uintCV(51291676) }),
    tx.tupleCV({ 'to': tx.uintCV(2223), 'usda': tx.uintCV(4872579) }),
    tx.tupleCV({ 'to': tx.uintCV(2229), 'usda': tx.uintCV(3136686) }),
    tx.tupleCV({ 'to': tx.uintCV(2235), 'usda': tx.uintCV(1981683) }),
    tx.tupleCV({ 'to': tx.uintCV(2238), 'usda': tx.uintCV(17232029) }),
    tx.tupleCV({ 'to': tx.uintCV(2240), 'usda': tx.uintCV(251597) }),
    tx.tupleCV({ 'to': tx.uintCV(2243), 'usda': tx.uintCV(2500132) }),
    tx.tupleCV({ 'to': tx.uintCV(2244), 'usda': tx.uintCV(103396) }),
    tx.tupleCV({ 'to': tx.uintCV(2249), 'usda': tx.uintCV(21649311) }),
    tx.tupleCV({ 'to': tx.uintCV(2251), 'usda': tx.uintCV(170967) }),
    tx.tupleCV({ 'to': tx.uintCV(2254), 'usda': tx.uintCV(39344536) }),
    tx.tupleCV({ 'to': tx.uintCV(2259), 'usda': tx.uintCV(260456) }),
    tx.tupleCV({ 'to': tx.uintCV(2272), 'usda': tx.uintCV(324836874) }),
    tx.tupleCV({ 'to': tx.uintCV(2291), 'usda': tx.uintCV(169630) }),
    tx.tupleCV({ 'to': tx.uintCV(2297), 'usda': tx.uintCV(17232029) }),
    tx.tupleCV({ 'to': tx.uintCV(2305), 'usda': tx.uintCV(51697923) }),
    tx.tupleCV({ 'to': tx.uintCV(2315), 'usda': tx.uintCV(719463479) }),
    tx.tupleCV({ 'to': tx.uintCV(2317), 'usda': tx.uintCV(129079916) }),
    tx.tupleCV({ 'to': tx.uintCV(2320), 'usda': tx.uintCV(13680356) }),
    tx.tupleCV({ 'to': tx.uintCV(2322), 'usda': tx.uintCV(17097) }),
    tx.tupleCV({ 'to': tx.uintCV(2324), 'usda': tx.uintCV(3164096) }),
    tx.tupleCV({ 'to': tx.uintCV(2327), 'usda': tx.uintCV(598384) }),
    tx.tupleCV({ 'to': tx.uintCV(2328), 'usda': tx.uintCV(44776204) }),
    tx.tupleCV({ 'to': tx.uintCV(2338), 'usda': tx.uintCV(948866) }),
    tx.tupleCV({ 'to': tx.uintCV(2354), 'usda': tx.uintCV(32029853) }),
    tx.tupleCV({ 'to': tx.uintCV(2358), 'usda': tx.uintCV(3265465) }),
    tx.tupleCV({ 'to': tx.uintCV(2361), 'usda': tx.uintCV(34193) }),
    tx.tupleCV({ 'to': tx.uintCV(2362), 'usda': tx.uintCV(420578) }),
    tx.tupleCV({ 'to': tx.uintCV(2364), 'usda': tx.uintCV(34386087) }),
    tx.tupleCV({ 'to': tx.uintCV(2365), 'usda': tx.uintCV(56419) }),
    tx.tupleCV({ 'to': tx.uintCV(2376), 'usda': tx.uintCV(189123) }),
    tx.tupleCV({ 'to': tx.uintCV(2377), 'usda': tx.uintCV(22271081) }),
    tx.tupleCV({ 'to': tx.uintCV(2381), 'usda': tx.uintCV(436061) }),
    tx.tupleCV({ 'to': tx.uintCV(2383), 'usda': tx.uintCV(22650) }),
    tx.tupleCV({ 'to': tx.uintCV(2390), 'usda': tx.uintCV(820623) }),
    tx.tupleCV({ 'to': tx.uintCV(2393), 'usda': tx.uintCV(1718216) }),
    tx.tupleCV({ 'to': tx.uintCV(2398), 'usda': tx.uintCV(5129) }),
    tx.tupleCV({ 'to': tx.uintCV(2399), 'usda': tx.uintCV(6720325) }),
    tx.tupleCV({ 'to': tx.uintCV(2406), 'usda': tx.uintCV(214624) }),
    tx.tupleCV({ 'to': tx.uintCV(2411), 'usda': tx.uintCV(257213) }),
    tx.tupleCV({ 'to': tx.uintCV(2412), 'usda': tx.uintCV(943090) }),
    tx.tupleCV({ 'to': tx.uintCV(2417), 'usda': tx.uintCV(17097) }),
    tx.tupleCV({ 'to': tx.uintCV(2422), 'usda': tx.uintCV(417241) }),
    tx.tupleCV({ 'to': tx.uintCV(2427), 'usda': tx.uintCV(172849) }),
    tx.tupleCV({ 'to': tx.uintCV(2431), 'usda': tx.uintCV(442632983) }),
    tx.tupleCV({ 'to': tx.uintCV(2439), 'usda': tx.uintCV(32725104) }),
    tx.tupleCV({ 'to': tx.uintCV(2442), 'usda': tx.uintCV(8583004) }),
    tx.tupleCV({ 'to': tx.uintCV(2443), 'usda': tx.uintCV(78083161) }),
    tx.tupleCV({ 'to': tx.uintCV(2445), 'usda': tx.uintCV(170967) }),
    tx.tupleCV({ 'to': tx.uintCV(2446), 'usda': tx.uintCV(34332014) }),
    tx.tupleCV({ 'to': tx.uintCV(2447), 'usda': tx.uintCV(4975204) }),
    tx.tupleCV({ 'to': tx.uintCV(2448), 'usda': tx.uintCV(20933542) }),
    tx.tupleCV({ 'to': tx.uintCV(2450), 'usda': tx.uintCV(206869799) }),
    tx.tupleCV({ 'to': tx.uintCV(2451), 'usda': tx.uintCV(17481353) }),
    tx.tupleCV({ 'to': tx.uintCV(2453), 'usda': tx.uintCV(22226301) }),
    tx.tupleCV({ 'to': tx.uintCV(2454), 'usda': tx.uintCV(366095) }),
    tx.tupleCV({ 'to': tx.uintCV(2456), 'usda': tx.uintCV(85483) }),
    tx.tupleCV({ 'to': tx.uintCV(2461), 'usda': tx.uintCV(46221263) }),
    tx.tupleCV({ 'to': tx.uintCV(2462), 'usda': tx.uintCV(6040539) }),
    tx.tupleCV({ 'to': tx.uintCV(2466), 'usda': tx.uintCV(15804169) }),
    tx.tupleCV({ 'to': tx.uintCV(2467), 'usda': tx.uintCV(222257) }),
    tx.tupleCV({ 'to': tx.uintCV(2468), 'usda': tx.uintCV(178878) }),
    tx.tupleCV({ 'to': tx.uintCV(2476), 'usda': tx.uintCV(10292671) }),
    tx.tupleCV({ 'to': tx.uintCV(2477), 'usda': tx.uintCV(5149802) }),
    tx.tupleCV({ 'to': tx.uintCV(2480), 'usda': tx.uintCV(43614686) }),
    tx.tupleCV({ 'to': tx.uintCV(2483), 'usda': tx.uintCV(85483) }),
    tx.tupleCV({ 'to': tx.uintCV(2485), 'usda': tx.uintCV(123608979) }),
    tx.tupleCV({ 'to': tx.uintCV(2486), 'usda': tx.uintCV(1282251) }),
    tx.tupleCV({ 'to': tx.uintCV(2487), 'usda': tx.uintCV(51290) }),
    tx.tupleCV({ 'to': tx.uintCV(2488), 'usda': tx.uintCV(5129) }),
    tx.tupleCV({ 'to': tx.uintCV(2495), 'usda': tx.uintCV(2453373) }),
    tx.tupleCV({ 'to': tx.uintCV(2496), 'usda': tx.uintCV(1878925) }),
    tx.tupleCV({ 'to': tx.uintCV(2511), 'usda': tx.uintCV(5590614) }),
    tx.tupleCV({ 'to': tx.uintCV(2512), 'usda': tx.uintCV(21712781) }),
    tx.tupleCV({ 'to': tx.uintCV(2513), 'usda': tx.uintCV(54709368) }),
    tx.tupleCV({ 'to': tx.uintCV(2516), 'usda': tx.uintCV(4809229) }),
    tx.tupleCV({ 'to': tx.uintCV(2517), 'usda': tx.uintCV(1624184) }),
    tx.tupleCV({ 'to': tx.uintCV(2518), 'usda': tx.uintCV(17097) }),
    tx.tupleCV({ 'to': tx.uintCV(2519), 'usda': tx.uintCV(16959201) }),
    tx.tupleCV({ 'to': tx.uintCV(2520), 'usda': tx.uintCV(3419336) })
  ]);
  const txOptions = {
    contractAddress: CONTRACT_ADDRESS,
    contractName: 'arkadiko-claim-usda-yield-v2-1',
    functionName: 'add-claims',
    functionArgs: [list],
    senderKey: process.env.STACKS_PRIVATE_KEY,
    postConditionMode: 1,
    network
  };

  const transaction = await tx.makeContractCall(txOptions);
  const result = tx.broadcastTransaction(transaction, network);
  await utils.processing(result, transaction.txid(), 0);
};

transact();
